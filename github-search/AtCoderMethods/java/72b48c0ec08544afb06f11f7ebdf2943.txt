double val(int lidx, double x) {
    return stk[lidx][0] * x + stk[lidx][1];
}