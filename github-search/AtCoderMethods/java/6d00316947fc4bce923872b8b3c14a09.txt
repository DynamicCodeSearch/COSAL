int toNode(int y, int x) {
    return y * M + x;
}